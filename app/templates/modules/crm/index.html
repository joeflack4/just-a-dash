{% extends "base.html" %}


<!-- Content -->
{% block content_header -%}
  {% include "core_components/content_area/content_header.html" %} <!-- Content: Header -->
{%- endblock content_header %}

{% block content -%}
{#  <div page-header>#}
{#    <h4 class="page-header">Customer Relationship Management</h4>#}
{#  </div>#}

    {# - Use html of super-block template.#}
    {{ super() }}

  <h3 class="content-header">Customer List</h3>

  <ol class="breadcrumb">
    <li>
      <div class="btn-group">
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#Customer-Add-Modal">
          Add New <span class="fa fa-user-plus"></span>
        </button>
        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="caret"></span>
          <span class="sr-only">Toggle Dropdown</span>
        </button>
        <ul class="dropdown-menu">
          <li><a href="#" data-toggle="modal" data-target="#Customer-CSV-Upload-Modal"><span class="fa fa-upload"></span>Upload CSV</a></li>
        </ul>
      </div>
    </li>
  </ol>

  <div>
    <table class="table">
      <tr>
          <th>#</th>
          <th>Laste Name</th>
          <th>E-mail</th>
          <th>Admin Role</th>
          <th>Module Roles</th>
      </tr>
      {% for customer in customer_data %}
        <tr data-toggle="modal" data-id="{{ customer.id }}" data-target="#Customer-Update-Modal{{ customer.id }}">
          <td>{{ loop.index }}</td>
          <td>{{ customer.name_last }},</td>
          <td>{{ customer.name_first }}</td>
          <td>{{ customer.phone1 }}</td>
          <td>{{ customer.address_ }}, {{ customer.address_ }}, </td>
        </tr>
      {% endfor %}
    </table>

{# -- Legacy Table -- #}
{#    <table class="table">#}
{#      <tr>#}
{#          <th>#</th>#}
{#          <th>First Name</th>#}
{#          <th>Last Name</th>#}
{#          <th>Phone Number</th>#}
{#      </tr>#}
{#      {% for key, value in customer_data.items() %}#}
{#        <tr data-toggle="modal" data-id="{{ value.id }}" data-target="#Customer-Update-Modal">#}
{#          <td>{{ loop.index }}</td>#}
{#          <td>{{ value.first_name }}</td>#}
{#          <td>{{ value.last_name }}</td>#}
{#          <td>{{ value.phone_number }}</td>#}
{#        </tr>#}
{#      {% endfor %}#}
{#    </table>#}
  </div>

{%- endblock content %}